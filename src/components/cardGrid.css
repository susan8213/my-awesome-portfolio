.gallery {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(max(25vw, 300px), auto));
  grid-gap: 2rem;
  justify-items: center;
  align-items: stretch;
}

@media all and (orientation: portrait) {
  .gallery {
    grid-template-columns: repeat(auto-fill, minmax(90vw, auto));
  }
}
